<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout - MotherNature</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'nature-green': '#4CAF50',
                        'forest-green': '#2E7D32',
                        'leaf-green': '#8BC34A',
                        'sunshine-yellow': '#FFC107',
                        'vibrant-orange': '#FF9800',
                        'fresh-blue': '#03DAC6',
                        'coral-pink': '#FF7043',
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="bg-white shadow-lg fixed top-0 w-full z-50">
        <div class="container mx-auto px-4">
            <div class="flex items-center justify-between py-4">
                <div class="flex items-center space-x-2">
                    <i class="fas fa-leaf text-3xl text-nature-green animate-pulse"></i>
                    <span class="text-2xl font-bold bg-gradient-to-r from-nature-green to-leaf-green bg-clip-text text-transparent">MotherNature</span>
                </div>
                
                <nav class="hidden md:flex space-x-8">
                    <a href="index.html" class="text-gray-700 hover:text-nature-green transition-colors">Home</a>
                    <a href="products.html" class="text-gray-700 hover:text-nature-green transition-colors">Products</a>
                    <a href="recipes.html" class="text-gray-700 hover:text-nature-green transition-colors">Recipes</a>
                    <a href="blog.html" class="text-gray-700 hover:text-nature-green transition-colors">Blog</a>
                </nav>
                
                <div class="flex items-center space-x-3">
                    <!-- Search Button -->
                    <button class="group relative p-3 hover:bg-nature-green hover:shadow-lg rounded-full transition-all duration-300 transform hover:scale-105">
                        <i class="fas fa-search text-nature-green group-hover:text-white transition-colors duration-300"></i>
                        <div class="absolute inset-0 bg-nature-green opacity-0 group-hover:opacity-10 rounded-full transition-opacity duration-300"></div>
                    </button>
                    
                    <!-- Shopping Cart Button -->
                    <a href="checkout.html" class="group relative p-3 hover:bg-nature-green hover:shadow-lg rounded-full transition-all duration-300 transform hover:scale-105 border-2 border-nature-green bg-nature-green bg-opacity-10">
                        <i class="fas fa-shopping-cart text-nature-green group-hover:text-white transition-colors duration-300"></i>
                        <span class="absolute -top-1 -right-1 bg-gradient-to-r from-vibrant-orange to-coral-pink text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center shadow-lg animate-pulse border-2 border-white">3</span>
                        <div class="absolute inset-0 bg-nature-green opacity-10 group-hover:opacity-20 rounded-full transition-opacity duration-300"></div>
                    </a>
                    
                    <!-- Login/Register Buttons -->
                    <div class="hidden md:flex items-center space-x-2">
                        <a href="login.html" class="px-4 py-2 text-nature-green hover:text-forest-green font-medium transition-colors">
                            Login
                        </a>
                        <a href="register.html" class="px-4 py-2 bg-gradient-to-r from-nature-green to-leaf-green text-white rounded-lg hover:from-forest-green hover:to-nature-green transition-all duration-300 transform hover:scale-105">
                            Sign Up
                        </a>
                    </div>
                    
                    <!-- Profile Button -->
                    <a href="profile.html" class="group relative p-3 hover:bg-nature-green hover:shadow-lg rounded-full transition-all duration-300 transform hover:scale-105 border-2 border-transparent hover:border-nature-green">
                        <i class="fas fa-user text-nature-green group-hover:text-white transition-colors duration-300"></i>
                        <div class="absolute inset-0 bg-nature-green opacity-0 group-hover:opacity-10 rounded-full transition-opacity duration-300"></div>
                    </a>
                </div>
            </div>
        </div>
    </header>

    <main class="pt-32 container mx-auto px-4 py-8">
        <!-- Progress Steps -->
        <div class="mb-8">
            <div class="max-w-4xl mx-auto px-4">
                <div class="relative">
                    <!-- Mobile Progress Bar -->
                    <div class="block md:hidden mb-6">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-sm font-medium text-nature-green">Step 2 of 3</span>
                            <span class="text-sm text-gray-500">Authentication</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2">
                            <div class="bg-gradient-to-r from-nature-green to-leaf-green h-2 rounded-full transition-all duration-500" style="width: 66.67%"></div>
                        </div>
                    </div>
                    
                    <!-- Desktop Progress Steps -->
                    <div class="hidden md:flex items-center justify-center">
                        <div class="flex items-center space-x-8 lg:space-x-16">
                            <!-- Step 1: Cart -->
                            <div class="flex items-center space-x-4">
                                <div class="flex flex-col items-center">
                                    <div class="w-12 h-12 bg-gradient-to-r from-nature-green to-leaf-green text-white rounded-full flex items-center justify-center font-bold shadow-lg relative">
                                        <i class="fas fa-check text-lg"></i>
                                        <div class="absolute -top-1 -right-1 w-4 h-4 bg-white rounded-full flex items-center justify-center">
                                            <i class="fas fa-check text-nature-green text-xs"></i>
                                        </div>
                                    </div>
                                    <span class="mt-2 text-nature-green font-semibold text-sm">Cart</span>
                                </div>
                                <div class="w-16 h-1 bg-gradient-to-r from-nature-green to-leaf-green rounded-full"></div>
                            </div>
                            
                            <!-- Step 2: Authentication -->
                            <div class="flex items-center space-x-4">
                                <div class="flex flex-col items-center">
                                    <div class="w-12 h-12 bg-gradient-to-r from-nature-green to-leaf-green text-white rounded-full flex items-center justify-center font-bold shadow-lg border-4 border-white animate-pulse">
                                        2
                                    </div>
                                    <span class="mt-2 text-nature-green font-semibold text-sm">Authentication</span>
                                </div>
                                <div class="w-16 h-1 bg-gray-300 rounded-full"></div>
                            </div>
                            
                            <!-- Step 3: Payment -->
                            <div class="flex flex-col items-center">
                                <div class="w-12 h-12 bg-gray-300 text-gray-500 rounded-full flex items-center justify-center font-bold shadow-sm">
                                    3
                                </div>
                                <span class="mt-2 text-gray-500 font-medium text-sm">Payment</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- Main Checkout Form -->
            <div class="lg:col-span-2">
                <!-- OTP Authentication Section -->
                <div id="otp-section" class="bg-white rounded-xl shadow-lg p-6 mb-6">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6">📱 Verification Required</h2>
                    <div class="bg-yellow-50 border-l-4 border-sunshine-yellow p-4 mb-6">
                        <div class="flex">
                            <i class="fas fa-info-circle text-sunshine-yellow mt-1"></i>
                            <div class="ml-3">
                                <p class="text-sm text-yellow-800">
                                    <strong>Registration required:</strong> To place orders on MotherNature you need to verify your phone number.
                                </p>
                            </div>
                        </div>
                    </div>

                    <div id="phone-input-step">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Phone Number</label>
                        <div class="flex space-x-2">
                            <select class="border border-gray-300 rounded-lg px-3 py-3 focus:border-nature-green focus:outline-none">
                                <option value="+91">🇮🇳 +91</option>
                            </select>
                            <input type="tel" id="phone-number" placeholder="Enter your number" 
                                   class="flex-1 border border-gray-300 rounded-lg px-4 py-3 focus:border-nature-green focus:outline-none">
                            <button onclick="sendOTP()" class="bg-gradient-to-r from-nature-green to-leaf-green text-white px-6 py-3 rounded-lg hover:shadow-lg transition-all">
                                Send OTP
                            </button>
                        </div>
                    </div>

                    <div id="otp-input-step" class="hidden">
                        <div class="text-center mb-6">
                            <i class="fas fa-mobile-alt text-4xl text-nature-green mb-4"></i>
                            <h3 class="text-lg font-semibold text-gray-800">Code Sent</h3>
                            <p class="text-gray-600">We've sent a 6-digit code to <span id="phone-display" class="font-semibold"></span></p>
                        </div>
                        
                        <div class="flex justify-center space-x-2 mb-6">
                            <input type="text" maxlength="1" class="w-12 h-12 text-center text-xl font-bold border-2 border-gray-300 rounded-lg focus:border-nature-green focus:outline-none otp-input">
                            <input type="text" maxlength="1" class="w-12 h-12 text-center text-xl font-bold border-2 border-gray-300 rounded-lg focus:border-nature-green focus:outline-none otp-input">
                            <input type="text" maxlength="1" class="w-12 h-12 text-center text-xl font-bold border-2 border-gray-300 rounded-lg focus:border-nature-green focus:outline-none otp-input">
                        </div>

                        <div class="flex justify-center space-x-2">
                            <button onclick="verifyOTP()" class="bg-gradient-to-r from-nature-green to-leaf-green text-white px-8 py-3 rounded-lg hover:shadow-lg transition-all font-semibold">
                                Verify Code
                            </button>
                            <button onclick="resendOTP()" class="border border-gray-300 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-50 transition-all">
                                Resend
                            </button>
                        </div>

                        <div class="text-center mt-4">
                            <span id="countdown" class="text-sm text-gray-600"></span>
                        </div>
                    </div>
                </div>

                <!-- Delivery Information -->
                <div id="delivery-section" class="bg-white rounded-xl shadow-lg p-6 mb-6 hidden">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6">🚚 Delivery Information</h2>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Full Name</label>
                            <input type="text" class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:border-nature-green focus:outline-none">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                            <input type="email" class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:border-nature-green focus:outline-none">
                        </div>
                    </div>

                    <div class="mb-6">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Complete Address</label>
                        <textarea class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:border-nature-green focus:outline-none" rows="3" placeholder="Street, number, area, landmarks..."></textarea>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">City</label>
                            <input type="text" value="Mumbai" class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:border-nature-green focus:outline-none">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Postal Code</label>
                            <input type="text" class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:border-nature-green focus:outline-none">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">State</label>
                            <select class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:border-nature-green focus:outline-none">
                                <option>Maharashtra</option>
                            </select>
                        </div>
                    </div>

                    <div class="mb-6">
                        <h3 class="font-semibold text-gray-800 mb-3">Preferred Delivery Time</h3>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-2">
                            <label class="flex items-center p-3 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50">
                                <input type="radio" name="delivery-time" class="text-nature-green focus:ring-nature-green">
                                <span class="ml-2 text-sm">9-12 AM</span>
                            </label>
                            <label class="flex items-center p-3 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50">
                                <input type="radio" name="delivery-time" class="text-nature-green focus:ring-nature-green" checked>
                                <span class="ml-2 text-sm">12-3 PM</span>
                            </label>
                            <label class="flex items-center p-3 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50">
                                <input type="radio" name="delivery-time" class="text-nature-green focus:ring-nature-green">
                                <span class="ml-2 text-sm">3-6 PM</span>
                            </label>
                            <label class="flex items-center p-3 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50">
                                <input type="radio" name="delivery-time" class="text-nature-green focus:ring-nature-green">
                                <span class="ml-2 text-sm">6-9 PM</span>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Payment Section -->
                <div id="payment-section" class="bg-white rounded-xl shadow-lg p-6 hidden">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6">💳 Payment Method</h2>
                    
                    <div class="space-y-4">
                        <label class="flex items-center p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-nature-green">
                            <input type="radio" name="payment" class="text-nature-green focus:ring-nature-green" checked>
                            <div class="ml-4 flex-1">
                                <div class="flex items-center justify-between">
                                    <span class="font-semibold">Razorpay - Online Payment</span>
                                    <div class="flex space-x-2">
                                        <img src="https://via.placeholder.com/30x20/4CAF50/FFFFFF?text=VISA" alt="Visa" class="rounded">
                                        <img src="https://via.placeholder.com/30x20/FF9800/FFFFFF?text=MC" alt="Mastercard" class="rounded">
                                        <img src="https://via.placeholder.com/30x20/03DAC6/FFFFFF?text=UPI" alt="UPI" class="rounded">
                                    </div>
                                </div>
                                <p class="text-sm text-gray-600">Cards, UPI, Wallets, NetBanking</p>
                            </div>
                        </label>

                        <label class="flex items-center p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-nature-green">
                            <input type="radio" name="payment" class="text-nature-green focus:ring-nature-green">
                            <div class="ml-4">
                                <span class="font-semibold">💰 Cash on Delivery</span>
                                <p class="text-sm text-gray-600">Pay when you receive your order</p>
                            </div>
                        </label>
                    </div>
                </div>
            </div>

            <!-- Order Summary -->
            <div class="lg:col-span-1">
                <div class="bg-white rounded-xl shadow-lg p-6 sticky top-4">
                    <h3 class="text-xl font-bold text-gray-800 mb-6">📋 Order Summary</h3>
                    
                    <div class="space-y-4 mb-6">
                        <div class="flex items-center space-x-3">
                            <div class="w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center text-2xl">🥬</div>
                            <nav class="hidden md:flex space-x-8">
                                <a href="index.html" class="text-gray-700 hover:text-nature-green transition-colors">Home</a>
                                <a href="productos.html" class="text-gray-700 hover:text-nature-green transition-colors">Products</a>
                                <a href="recetas.html" class="text-gray-700 hover:text-nature-green transition-colors">Recipes</a>
                                <a href="#" class="text-gray-700 hover:text-nature-green transition-colors">Blog</a>
                            </nav>
                            <div class="flex-1">
                                <h4 class="font-semibold">Organic Spinach</h4>
                                <p class="text-sm text-gray-600">Quantity: 1</p>
                                <p class="font-semibold text-nature-green">₹199</p>
                            </div>
                        </div>
                        
                        <div class="flex items-center space-x-3">
                            <div class="w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center text-2xl">🌾</div>
                            <div class="flex-1">
                                <h4 class="font-semibold">Bolivian Quinoa</h4>
                                <p class="text-sm text-gray-600">Quantity: 1</p>
                                <p class="font-semibold text-nature-green">₹350</p>
                            </div>
                        </div>
                        
                        <div class="flex items-center space-x-3">
                            <div class="w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center text-2xl">🍯</div>
                            <div class="flex-1">
                                <h4 class="font-semibold">Pure Himalayan Honey</h4>
                                <p class="text-sm text-gray-600">Quantity: 1</p>
                                <p class="font-semibold text-nature-green">₹249</p>
                            </div>
                        </div>
                    </div>

                    <div class="border-t pt-4 space-y-2">
                        <div class="flex justify-between">
                            <span>Subtotal:</span>
                            <span>₹798</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Shipping:</span>
                            <span class="text-nature-green">Free</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Taxes:</span>
                            <span>₹40</span>
                        </div>
                        <div class="border-t pt-2 flex justify-between font-bold text-lg">
                            <span>Total:</span>
                            <span class="text-nature-green">₹838</span>
                        </div>
                    </div>

                    <button id="place-order-btn" onclick="proceedToPayment()" class="w-full bg-gradient-to-r from-nature-green to-leaf-green text-white py-4 rounded-lg font-semibold hover:shadow-lg transition-all mt-6 disabled:opacity-50" disabled>
                        Place Order
                    </button>


                    <div class="mt-4 text-center text-sm text-gray-600">
                        <i class="fas fa-shield-alt text-nature-green"></i>
                        100% secure transactions
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        let otpTimer;
        let timeLeft = 60;

        function sendOTP() {
            const phone = document.getElementById('phone-number').value;
            if (!phone || phone.length < 10) {
                alert('Por favor ingresa un número válido');
                return;
            }

            document.getElementById('phone-input-step').classList.add('hidden');
            document.getElementById('otp-input-step').classList.remove('hidden');
            document.getElementById('phone-display').textContent = '+91 ' + phone;
            
            startCountdown();
            
            // Auto-focus first OTP input
            document.querySelector('.otp-input').focus();
        }

        function startCountdown() {
            timeLeft = 60;
            otpTimer = setInterval(() => {
                timeLeft--;
                document.getElementById('countdown').textContent = `Reenviar en ${timeLeft}s`;
                
                if (timeLeft <= 0) {
                    clearInterval(otpTimer);
                    document.getElementById('countdown').innerHTML = '<button onclick="resendOTP()" class="text-nature-green hover:underline">Reenviar código</button>';
                }
            }, 1000);
        }

        function resendOTP() {
            clearInterval(otpTimer);
            startCountdown();
            
            // Clear OTP inputs
            document.querySelectorAll('.otp-input').forEach(input => {
                input.value = '';
            });
            document.querySelector('.otp-input').focus();
        }

        function verifyOTP() {
            const otpInputs = document.querySelectorAll('.otp-input');
            const otp = Array.from(otpInputs).map(input => input.value).join('');
            
            if (otp.length !== 6) {
                alert('Por favor ingresa el código completo');
                return;
            }

            // Simulate OTP verification
            document.getElementById('otp-section').classList.add('hidden');
            document.getElementById('delivery-section').classList.remove('hidden');
            document.getElementById('payment-section').classList.remove('hidden');
            document.getElementById('place-order-btn').disabled = false;
            
            // Update progress
            document.querySelector('.flex.items-center.justify-center.space-x-4').innerHTML = `
                <div class="flex items-center">
                    <div class="w-10 h-10 bg-nature-green text-white rounded-full flex items-center justify-center font-bold">✓</div>
                    <span class="ml-2 text-nature-green font-semibold">Carrito</span>
                </div>
                <div class="w-8 h-1 bg-nature-green"></div>
                <div class="flex items-center">
                    <div class="w-10 h-10 bg-nature-green text-white rounded-full flex items-center justify-center font-bold">✓</div>
                    <span class="ml-2 text-nature-green font-semibold">Verificado</span>
                </div>
                <div class="w-8 h-1 bg-nature-green"></div>
                <div class="flex items-center">
                    <div class="w-10 h-10 bg-nature-green text-white rounded-full flex items-center justify-center font-bold">3</div>
                    <span class="ml-2 text-nature-green font-semibold">Pago</span>
                </div>
            `;
        }

        function proceedToPayment() {
            // Simulate payment processing
            document.getElementById('place-order-btn').innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>Procesando...';
            
            setTimeout(() => {
                alert('¡Pedido realizado con éxito! 🎉\nRecibirás una confirmación por WhatsApp.');
                // Redirect to success page or home
                window.location.href = 'index.html';
            }, 2000);
        }

        // OTP input navigation
        document.querySelectorAll('.otp-input').forEach((input, index) => {
            input.addEventListener('input', (e) => {
                if (e.target.value.length === 1 && index < 5) {
                    document.querySelectorAll('.otp-input')[index + 1].focus();
                }
            });
            
            input.addEventListener('keydown', (e) => {
                if (e.key === 'Backspace' && e.target.value === '' && index > 0) {
                    document.querySelectorAll('.otp-input')[index - 1].focus();
                }
            });
        });
    </script>
</body>
</html>
